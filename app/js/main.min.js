function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("warning-plate").remove()}gsap.registerPlugin(ScrollTrigger,ScrollSmoother),(()=>{document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".hero__slider-init",{spaceBetween:30,slidesPerView:1,centeredSlides:!0,grabCursor:!0,loop:!0,speed:600,mousewheel:{forceToAxis:!0},effect:"fade",fadeEffect:{crossFade:!1},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".hero__slider-next",prevEl:".hero__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".feat__slider-init",{slidesPerView:"auto",slidesPerGroup:1,spaceBetween:10,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},pagination:{el:".swiper-pagination",clickable:!0},grid:!1,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{601:{spaceBetween:20,slidesPerView:2,grid:{rows:2}}}}),new Swiper(".tenants__slider-init",{spaceBetween:10,slidesPerView:"auto",slidesPerGroup:1,speed:600,grabCursor:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".tenants__slider-next",prevEl:".tenants__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{601:{spaceBetween:10,slidesPerView:2},769:{spaceBetween:20,slidesPerView:3},1441:{spaceBetween:20,slidesPerView:4}}}),new Swiper(".review__slider-init",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,grabCursor:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".review__slider-next",prevEl:".review__slider-prev"},breakpoints:{361:{slidesPerView:1.5,spaceBetween:10},601:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:20},1201:{slidesPerView:4,spaceBetween:20}}}),new Swiper(".projects__slider-init",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,touchEventsTarget:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".projects__slider-next",prevEl:".projects__slider-prev"},breakpoints:{361:{slidesPerView:2,spaceBetween:10},601:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:2.63,spaceBetween:0},1201:{slidesPerView:2.63,spaceBetween:0}}});const e=new Swiper(".case__head-slider",{spaceBetween:200,slidesPerView:1,speed:600,loop:!0,grabCursor:!1,mousewheel:!1}),t=new Swiper(".case__body-slider",{slidesPerView:1,grabCursor:!0,speed:1200,loop:!0,effect:"fade",navigation:{nextEl:".case__slider-next",prevEl:".case__slider-prev"},mousewheel:{forceToAxis:!0},pagination:{el:".swiper-pagination",type:"fraction"}}),n=new Swiper(".case__foot-slider",{spaceBetween:500,slidesPerView:1,grabCursor:!1,speed:600,loop:!0,mousewheel:!1});e.controller.control=[t,n],t.controller.control=[e,n];var i=new Swiper(".advan__thumbs-init",{slidesPerView:1,slidesPerGroup:"auto",allowPageScroll:"vertical",mousewheel:!1,watchSlidesProgress:!0});new Swiper(".advan__slider-init",{grabCursor:!1,mousewheel:!1,speed:600,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},thumbs:{swiper:i}}),new Swiper(".create_f__slider-init",{slidesPerView:"auto",spaceBetween:20,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},grid:!1,breakpoints:{769:{spaceBetween:20,slidesPerView:3,grid:{rows:2}}}}),new Swiper(".objects__slider-init",{slidesPerView:1,spaceBetween:10,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".objects__slider-next",prevEl:".objects__slider-prev"},breakpoints:{381:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:3,spaceBetween:20},1201:{slidesPerView:4,spaceBetween:20}}}),new Swiper(".objects-s__slider",{slidesPerView:1,grabCursor:!0,speed:600,loop:!0,mousewheel:{forceToAxis:!0},effect:"fade",fadeEffect:{crossFade:!1},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".case__slider-next",prevEl:".case__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0}});const o=new Lenis({anchors:{offset:-100},duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),smoothWheel:!0});if(function(){const e=document.querySelectorAll(".modal__btn"),t=document.querySelectorAll(".modal__close-btn");e.length&&(e.forEach((e=>{e.addEventListener("click",(e=>{const t=e.currentTarget.getAttribute("data-id");if(!t)return;const n=document.getElementById(t);if(!n)return;const i=document.querySelector(".modal.open");i&&i.classList.remove("open");const r=e.currentTarget.getAttribute("data-title");if(r){const e=n.querySelector("#modal-title");e&&(e.innerHTML=r)}const s=e.currentTarget.getAttribute("data-text");if(s){const e=n.querySelector("#modal-text");e&&(e.innerHTML=s)}n.classList.add("open"),o.stop()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{const e=document.querySelector(".modal.open");e&&(e.classList.remove("open"),o.start())}))})),document.addEventListener("click",(e=>{const t=document.querySelector(".modal.open");if(!t)return;const n=t.querySelector(".modal__box");n&&(n.contains(e.target)||e.target.closest(".modal__btn")||(t.classList.remove("open"),o.start()))})),window.addEventListener("keydown",(e=>{if("Escape"!==e.key)return;const t=document.querySelector(".modal.open");t&&(t.classList.remove("open"),o.start())})))}(),function(){const e=document.querySelector(".burger"),t=document.querySelector(".burger__text"),n=document.getElementById("mobile-menu"),i=document.querySelectorAll(".menu__list-link"),r=document.querySelector(".head"),s=()=>{e.classList.remove("burger--opened"),n.classList.remove("mobile-menu--opened"),o.start()};e.addEventListener("click",(()=>{const i=e.classList.toggle("burger--opened");n.classList.toggle("mobile-menu--opened",i),r.classList.toggle("head--active"),n.classList.contains("mobile-menu--opened")?o.stop():o.start(),e.classList[1]?t.innerHTML="Закрыть":t.innerHTML="Меню"})),i.forEach((e=>e.addEventListener("click",s)))}(),function(){const e=document.querySelector(".head"),t=()=>window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",(()=>{t()>300?e.classList.add("out"):e.classList.remove("out"),t()>700?e.classList.add("change"):e.classList.remove("change")}))}(),document.querySelectorAll(".dropdown--js").forEach((e=>{function t(){let t=e.querySelector(".dropdown__value"),n=document.querySelector(".dropdown__radio:checked").parentElement.querySelector(".dropdown__label").textContent;e.querySelector(".dropdown__selected--js").querySelector("span").textContent=n,t.dataset.value=n}function n(e,t,n){let i=n;void 0===i&&(i=!e.classList.contains(t)),i?e.classList.add(t):e.classList.remove(t)}let i=e.querySelectorAll(".dropdown__radio"),o=e;for(let e=0;e<i.length;++e){let r=i[e];r.addEventListener("change",(function(){t()})),r.addEventListener("click",(function(){n(o,"is-active",!1)}))}e.querySelector(".dropdown__selected--js").addEventListener("click",(function(){n(o,"is-active")}))})),document.querySelector(".other-mix"))mixitup(".other-mix",{animation:{duration:600,effects:"stagger(3ms) fade scale(0.4)",easing:"linear"},load:{filter:".mix-1"}});if(document.querySelector(".vacancy-mix"))mixitup(".vacancy-mix",{animation:{duration:600,effects:"stagger(3ms) fade scale(0.4)",easing:"linear"},load:{filter:"all"}});if("1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]){const e=document.getElementById("warning-plate");e&&(e.style.display="block")}const r=document.getElementById("presentation"),s=document.querySelectorAll(".stage__item");if(window.addEventListener("resize",(function(){this.window.innerWidth>=769?(r.setAttribute("href","./documents/Империя презентация.pdf"),r.setAttribute("download","./documents/Империя презентация.pdf"),s.forEach((e=>{e.classList.remove("accordion")}))):(r.setAttribute("href","./documents/Империя.pdf"),r.setAttribute("download","./documents/Империя.pdf"),s.forEach((e=>{e.classList.add("accordion")})))}),!0),(this.window.innerWidth<=768||~["Android","iPhone","iPod","iPad","BlackBerry"].indexOf(navigator.platform))&&(r.setAttribute("href","./documents/Империя.pdf"),r.setAttribute("download","./documents/Империя.pdf"),s.forEach((e=>{e.classList.add("accordion")}))),document.querySelector(".geo__item")){var a=document.querySelectorAll(".geo__item"),l=document.querySelector(".geo__block"),c=document.getElementsByClassName("geo__active");Array.from(a).forEach((function(e,t,n){e.addEventListener("click",(function(e){c.length>0&&c[0]!==this&&c[0].classList.remove("geo__active"),this.classList.toggle("geo__active"),l.classList.add("show"),window.innerWidth<601&&o.stop(),document.querySelector(".geo__block-close").addEventListener("click",(function(){l.classList.remove("show"),window.innerWidth<601&&o.start(),c.length>0&&c[0]!==this&&c[0].classList.remove("geo__active")})),e.stopPropagation(),document.getElementById("geo-img").setAttribute("src",this.dataset.img),document.getElementById("geo-name").innerText=this.dataset.name,document.getElementById("geo-address").innerText=this.dataset.address,document.getElementById("geo-year").innerText=this.dataset.year,document.getElementById("geo-square").innerText=this.dataset.square}))}))}$(document).on("mouseup",(function(e){let t=$(".geo__block.show");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("show"),window.innerWidth<601&&o.start())})),document.querySelector(".transfer-pos-1")&&(new TransferElements({sourceElement:document.querySelector(".transfer-elem-1"),breakpoints:{600:{targetElement:document.querySelector(".transfer-pos-1")}}}),new TransferElements({sourceElement:document.querySelector(".transfer-elem-2"),breakpoints:{600:{targetElement:document.querySelector(".transfer-pos-1")}}})),document.querySelector(".case__title")&&new TransferElements({sourceElement:document.querySelector(".case__title"),breakpoints:{600:{targetElement:document.querySelector(".case__item")}}}),document.querySelector(".objects .case")&&new TransferElements({sourceElement:document.querySelector(".case__body-video"),breakpoints:{600:{targetElement:document.querySelector(".case__thumbs-item")}}});const d=document.querySelector("#copyButton");var u,m;d&&d.addEventListener("click",(function(){navigator.clipboard.writeText(document.querySelector("#copyContent").innerText).then((function(){console.log("Text copied to clipboard")})).catch((function(e){console.error("Error:",e)}))})),u=document.querySelectorAll(".accordion"),m=document.getElementsByClassName("active"),Array.from(u).forEach((function(e,t,n){e.addEventListener("click",(function(e){this.parentNode.dataset.skip||m.length>0&&m[0]!==this&&m[0].classList.remove("active"),this.classList.toggle("active")}))}));document.querySelectorAll('[data-splitting="chars"]').forEach((e=>{new SplitType(e,{types:"words, chars"})}));document.querySelectorAll('[data-splitting="words"]').forEach((e=>{new SplitType(e,{types:"words, words"})}));document.querySelectorAll('[data-animation="fadeLeftToRightAnim"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"15%",duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t)}));document.querySelectorAll('[data-animation="fadeLongToWidth"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"120%",x:-120,duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t)}));document.querySelectorAll('[data-animation="fadeLongToShort"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"100%",duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t)}));document.querySelectorAll('[data-animation="parallax"]').forEach((e=>{gsap.fromTo(e,{y:"0%"},{y:"15%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})}));document.querySelectorAll('[data-animation="fadeIn"]').forEach((e=>{const t=e.querySelectorAll("div.char"),n=gsap.timeline({paused:!0});n.from(t,{opacity:0,duration:.3,ease:"power1.out",stagger:{amount:.8}}),p(e,n)}));document.querySelectorAll('[data-animation="reveal"]').forEach((e=>{const t=e.querySelectorAll("div.word"),n=gsap.timeline({paused:!0});n.from(t,{opacity:0,y:"10",duration:.4,ease:"power1.out",stagger:{amount:.6}}),p(e,n)}));document.querySelectorAll('[data-animation="fadeUp"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,y:"80",duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t)}));document.querySelectorAll('[data-animation="fadeDown"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,y:"40",duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t,"top 60%")}));document.querySelectorAll('[data-animation="fadeLeftToRight"]').forEach((e=>{const t=e.querySelectorAll(".item--animation"),n=gsap.timeline({paused:!0}),i=t.length<5?.8:1.2;n.from(t,{opacity:0,y:10,duration:.3,ease:"power1.in",stagger:{amount:i}}),p(e,n)}));document.querySelectorAll('[data-animation="fadeBottomToTop"]').forEach((e=>{const t=e.querySelectorAll(".item--animation"),n=gsap.timeline({paused:!0}),i=t.length<5?.8:1.2;n.from(t,{opacity:0,y:30,duration:.3,ease:"power1.in",stagger:{amount:i}}),p(e,n)}));document.querySelectorAll('[data-animation="cropDown"]').forEach((e=>{const t=e.querySelector("img"),n=gsap.timeline({paused:!0});n.from(t,{height:0,duration:1.2,ease:"expoScale"}),p(e,n,"top 60%")}));document.querySelectorAll(".advan__thumbs-item").forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,x:-50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(e,t)}));document.querySelectorAll(".service__block.red").forEach((e=>{const t=e.querySelector(".service__item"),n=gsap.timeline({paused:!0});n.from(t,{opacity:1,x:50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(t,n)}));function p(e,t,n="top 85%"){ScrollTrigger.create({trigger:e,start:"top bottom",onLeaveBack:()=>{t.progress(1),t.pause()}}),ScrollTrigger.create({trigger:e,start:n,onEnter:()=>t.play()})}document.querySelectorAll(".service__block.yellow").forEach((e=>{const t=e.querySelector(".service__item"),n=gsap.timeline({paused:!0});n.from(t,{opacity:1,x:-50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),p(t,n)}));const h={defaultConfig:{breakpoint:768,selectors:{placeholder:".timeline-placeholder",container:".timeline-container",timeline:".timeline",wrapper:".timeline-wrapper",items:".timeline-item",btnPrev:".timeline-button-prev",btnNext:".timeline-button-next"}},init(e=".timeline-placeholder",t={}){return this.config={...this.defaultConfig,selectors:{...this.defaultConfig.selectors,...t}},this.state={rootElement:null,timelinePlaceholder:null,timelineContainer:null,timeline:null,timelineWrapper:null,timelineItems:null,btnPrev:null,btnNext:null,itemWidth:0,containerWidth:0,totalWidth:0,maxScroll:0,placeholderHeight:0,containerHeight:0,scrollDistance:0,timelineProgress:0,currentIndex:0,isAnimating:!1,startX:0,startY:0,currentX:0,isDragging:!1,startScroll:0,xSwipe:!1,scrollTimeout:null,isScrolling:!1,buttonHoldInterval:null,buttonHoldDirection:null,buttonHoldDelay:300,buttonHoldSpeed:100,initialButtonPress:!0},this.setRootElement(e),this.cacheElements(),this.calculatePlaceholderHeight(),this.bindEvents(),this.updateButtons(),this.updateActiveItem(0),this},setRootElement(e){const t="string"==typeof e?document.querySelector(e):e;t||console.warn(`TimelineScroll: Root element not found with selector "${e}"`),this.state.rootElement=t},destroy(){window.removeEventListener("resize",this.onResize.bind(this)),this.stopButtonHold()},next(){this.goToIndex(this.state.currentIndex+1)},prev(){this.goToIndex(this.state.currentIndex-1)},goTo(e){this.goToIndex(e)},getCurrentIndex(){return this.state.currentIndex},startButtonHold(e){const t=this.state;t.buttonHoldInterval&&clearInterval(t.buttonHoldInterval),t.buttonHoldDirection=e,t.initialButtonPress=!0,"next"===e?this.next():this.prev(),t.buttonHoldInterval=setTimeout((()=>{t.initialButtonPress=!1,t.buttonHoldInterval=setInterval((()=>{"next"===t.buttonHoldDirection?this.next():this.prev()}),t.buttonHoldSpeed)}),t.buttonHoldDelay)},stopButtonHold(){const e=this.state;e.buttonHoldInterval&&(clearTimeout(e.buttonHoldInterval),clearInterval(e.buttonHoldInterval),e.buttonHoldInterval=null,e.buttonHoldDirection=null)},cacheElements(){const e=this.state,t=this.config.selectors;e.timelinePlaceholder=e.rootElement,e.timelineContainer=this.findElement(t.container),e.timeline=this.findElement(t.timeline),e.timelineWrapper=this.findElement(t.wrapper),e.timelineItems=this.findElement(t.items,!0),e.btnPrev=this.findElement(t.btnPrev),e.btnNext=this.findElement(t.btnNext),this.validateRequiredElements()},findElement(e,t=!1){return t?this.state.rootElement.querySelectorAll(e):this.state.rootElement.querySelector(e)},validateRequiredElements(){const e=this.state;[{element:e.timelineContainer,name:"container"},{element:e.timeline,name:"timeline"},{element:e.timelineWrapper,name:"wrapper"},{element:e.timelineItems,name:"items"}].forEach((({element:e,name:t})=>{(!e||Array.isArray(e)&&0===e.length)&&console.warn(`TimelineScroll: Required element "${t}" not found with selector "${this.config.selectors[t]}"`)}))},isMobileDevice(){return window.innerWidth<=this.config.breakpoint},calculatePlaceholderHeight(){const e=this.state;this.isMobileDevice()?e.timelinePlaceholder.style.height="auto":(e.containerHeight=e.timelineContainer.offsetHeight,e.itemWidth=e.timelineItems[0].offsetWidth,e.containerWidth=e.timeline.offsetWidth,e.totalWidth=e.itemWidth*e.timelineItems.length,e.maxScroll=Math.max(0,e.totalWidth-e.containerWidth),e.scrollDistance=e.maxScroll,e.placeholderHeight=e.containerHeight+e.scrollDistance,e.timelinePlaceholder.style.height=`${e.placeholderHeight}px`)},updateButtons(){const e=this.state;!this.isMobileDevice()&&e.btnPrev&&e.btnNext&&(e.btnPrev.disabled=0===e.currentIndex,e.btnNext.disabled=e.currentIndex===e.timelineItems.length-1)},goToIndex(e){if(this.isMobileDevice())return this.goToIndexMobile(e);const t=this.state;if(t.isAnimating)return;if((e=Math.max(0,Math.min(e,t.timelineItems.length-1)))===t.currentIndex)return;t.isAnimating=!0;const n=e/(t.timelineItems.length-1),i=t.timelinePlaceholder.offsetTop+n*t.scrollDistance;o.scrollTo(i,{duration:.4,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),onComplete:()=>{t.isAnimating=!1}})},goToIndexMobile(e){const t=this.state;e=Math.max(0,Math.min(e,t.timelineItems.length-1));const n=t.timelineItems[e],i=n.offsetLeft,o=n.offsetWidth,r=i-t.timeline.offsetWidth/2+o/2;t.timeline.scrollTo({left:r,behavior:"smooth"}),this.updateActiveItemMobile(e)},updateTimeline(e){const t=this.state;if(this.isMobileDevice())return;const n=t.timelinePlaceholder.offsetTop;let i=(e-n)/t.scrollDistance;if(i=Math.max(0,Math.min(1,i)),e>=n&&e<=n+t.scrollDistance){t.timelineProgress=i;const e=-t.timelineProgress*t.maxScroll;t.timelineWrapper.style.transform=`translateX(${e}px)`,this.updateActiveItem(t.timelineProgress)}else e<n?(t.timelineProgress=0,t.timelineWrapper.style.transform="translateX(0px)",this.updateActiveItem(0)):e>n+t.scrollDistance&&(t.timelineProgress=1,t.timelineWrapper.style.transform=`translateX(${-t.maxScroll}px)`,this.updateActiveItem(1))},updateActiveItem(e){const t=this.state,n=t.timelineItems.length-1,i=Math.min(n,Math.round(e*n));i!==t.currentIndex&&(t.currentIndex=i,t.timelineItems.forEach(((e,n)=>{e.classList.toggle("timeline-active",n===t.currentIndex)})),this.updateButtons())},updateActiveItemMobile(e){const t=this.state;e!==t.currentIndex&&(t.currentIndex=e,t.timelineItems.forEach(((e,n)=>{e.classList.toggle("timeline-active",n===t.currentIndex)})))},handleMobileScroll(){const e=this.state;if(!this.isMobileDevice())return;clearTimeout(e.scrollTimeout),e.isScrolling=!0;const t=e.timeline.scrollLeft,n=e.timeline.offsetWidth,i=e.timelineItems[0].offsetWidth,o=t+n/2;let r=0,s=1/0;e.timelineItems.forEach(((e,t)=>{const n=e.offsetLeft+i/2,a=Math.abs(o-n);a<s&&(s=a,r=t)})),this.updateActiveItemMobile(r),e.scrollTimeout=setTimeout((()=>{e.isScrolling=!1,e.isScrolling||this.goToIndex(r)}),100)},handleTouchStart(e){const t=this.state;t.isAnimating||(t.startX="touchstart"===e.type?e.touches[0].clientX:e.clientX,t.startY="touchstart"===e.type?e.touches[0].clientY:e.clientY,t.currentX=parseInt(getComputedStyle(t.timelineWrapper).transform.split(",")[4]||0,10),t.startScroll=o.scroll,t.isDragging=!0,t.xSwipe=!1,t.timelineWrapper.classList.add("grabbing"))},handleTouchMove(e){const t=this.state;if(!t.isDragging)return;e.preventDefault();const n="touchmove"===e.type?e.touches[0].clientX:e.clientX,i="touchmove"===e.type?e.touches[0].clientY:e.clientY;if(!t.xSwipe){const o=Math.abs(n-t.startX),r=Math.abs(i-t.startY);if(r>o&&r>10)return t.isDragging=!1,void t.timelineWrapper.classList.remove("grabbing");o>10&&(t.xSwipe=!0,e.preventDefault())}if(t.xSwipe){const e=n-t.startX;let i=t.currentX+e;i=Math.min(Math.max(i,-t.maxScroll),0),t.timelineWrapper.style.transform=`translateX(${i}px)`,o.scrollTo(t.startScroll,{immediate:!0})}},handleTouchEnd(e){const t=this.state;if(!t.isDragging)return;t.isDragging=!1,t.timelineWrapper.classList.remove("grabbing");const n=("touchend"===e.type?e.changedTouches?e.changedTouches[0].clientX:0:e.clientX)-t.startX,i=n/100;Math.abs(n)>50||Math.abs(i)>.5?n>0?this.goToIndex(t.currentIndex-1):this.goToIndex(t.currentIndex+1):this.goToIndex(t.currentIndex)},onLenisScroll({scroll:e}){this.state.isDragging||this.updateTimeline(e)},onResize(){this.calculatePlaceholderHeight(),this.updateTimeline(o.scroll),this.updateButtons()},bindEvents(){const e=this.state;e.btnPrev&&(e.btnPrev.addEventListener("click",(()=>{this.goToIndex(e.currentIndex-1)})),e.btnPrev.addEventListener("mousedown",(()=>{this.startButtonHold("prev")})),e.btnPrev.addEventListener("touchstart",(()=>{this.startButtonHold("prev")})),e.btnPrev.addEventListener("mouseup",(()=>{this.stopButtonHold()})),e.btnPrev.addEventListener("touchend",(()=>{this.stopButtonHold()})),e.btnPrev.addEventListener("mouseleave",(()=>{this.stopButtonHold()}))),e.btnNext&&(e.btnNext.addEventListener("click",(()=>{this.goToIndex(e.currentIndex+1)})),e.btnNext.addEventListener("mousedown",(()=>{this.startButtonHold("next")})),e.btnNext.addEventListener("touchstart",(()=>{this.startButtonHold("next")})),e.btnNext.addEventListener("mouseup",(()=>{this.stopButtonHold()})),e.btnNext.addEventListener("touchend",(()=>{this.stopButtonHold()})),e.btnNext.addEventListener("mouseleave",(()=>{this.stopButtonHold()}))),document.addEventListener("mouseup",(()=>{this.stopButtonHold()})),document.addEventListener("touchend",(()=>{this.stopButtonHold()})),this.isMobileDevice()||(e.timelineWrapper.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!1}),e.timelineWrapper.addEventListener("mousedown",this.handleTouchStart.bind(this)),e.timelineWrapper.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),e.timelineWrapper.addEventListener("mousemove",this.handleTouchMove.bind(this)),e.timelineWrapper.addEventListener("touchend",this.handleTouchEnd.bind(this)),e.timelineWrapper.addEventListener("mouseup",this.handleTouchEnd.bind(this)),e.timelineWrapper.addEventListener("mouseleave",this.handleTouchEnd.bind(this))),e.timeline.addEventListener("scroll",this.handleMobileScroll.bind(this)),o.on("scroll",this.onLenisScroll.bind(this)),window.addEventListener("resize",this.onResize.bind(this))}};if(h.create=function(e=".timeline-placeholder",t={}){return Object.create(this).init(e,t)},requestAnimationFrame((function e(t){o.raf(t),requestAnimationFrame(e)})),document.getElementById("timelinePlaceholder")){h.create("#timelinePlaceholder")}document.querySelector(".fancybox")&&Fancybox.bind('[data-fancybox="gallery"]',{})}))})();