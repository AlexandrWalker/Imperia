function checkCookies(){document.cookie="COOKIE_ACCEPT=1;path='/';expires:"+new Date((new Date).getTime()+31536e6).toUTCString(),document.getElementById("warning-plate").remove()}gsap.registerPlugin(ScrollTrigger,ScrollSmoother),(()=>{document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".hero__slider-init",{spaceBetween:30,slidesPerView:1,centeredSlides:!0,grabCursor:!0,loop:!0,speed:600,mousewheel:{forceToAxis:!0},effect:"fade",fadeEffect:{crossFade:!1},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".hero__slider-next",prevEl:".hero__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),new Swiper(".feat__slider-init",{slidesPerView:"auto",slidesPerGroup:1,spaceBetween:10,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},pagination:{el:".swiper-pagination",clickable:!0},grid:!1,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{601:{spaceBetween:20,slidesPerView:2,grid:{rows:2}}}}),new Swiper(".tenants__slider-init",{spaceBetween:10,slidesPerView:"auto",slidesPerGroup:1,speed:600,grabCursor:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".tenants__slider-next",prevEl:".tenants__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{601:{spaceBetween:10,slidesPerView:2},769:{spaceBetween:20,slidesPerView:3},1441:{spaceBetween:20,slidesPerView:4}}}),new Swiper(".path__slider-init",{slidesPerView:"auto",slidesPerGroup:1,speed:600,touchEventsTarget:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".path__slider-next",prevEl:".path__slider-prev"},breakpoints:{769:{slidesPerView:2.63},1201:{slidesPerView:2.63}},on:{transitionEnd:function(e){const t=e.slides;if(e.isEnd){if(t[t.length-3].classList.add("swiper-slide-active"),t.length>1){t[t.length-4].classList.remove("swiper-slide-active")}}}}}),new Swiper(".review__slider-init",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,grabCursor:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".review__slider-next",prevEl:".review__slider-prev"},breakpoints:{361:{slidesPerView:1.5,spaceBetween:10},601:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:3,spaceBetween:20},1201:{slidesPerView:4,spaceBetween:20}}}),new Swiper(".projects__slider-init",{slidesPerView:1,slidesPerGroup:1,spaceBetween:10,speed:600,touchEventsTarget:!0,loop:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".projects__slider-next",prevEl:".projects__slider-prev"},breakpoints:{361:{slidesPerView:2,spaceBetween:10},601:{slidesPerView:2,spaceBetween:20},769:{slidesPerView:2.63,spaceBetween:0},1201:{slidesPerView:2.63,spaceBetween:0}}});const e=new Swiper(".case__head-slider",{spaceBetween:200,slidesPerView:1,speed:600,loop:!0,grabCursor:!1,mousewheel:!1}),t=new Swiper(".case__body-slider",{slidesPerView:1,grabCursor:!0,speed:1200,loop:!0,effect:"fade",navigation:{nextEl:".case__slider-next",prevEl:".case__slider-prev"},mousewheel:{forceToAxis:!0},pagination:{el:".swiper-pagination",type:"fraction"}}),o=new Swiper(".case__foot-slider",{spaceBetween:500,slidesPerView:1,grabCursor:!1,speed:600,loop:!0,mousewheel:!1});e.controller.control=[t,o],t.controller.control=[e,o];var r=new Swiper(".advan__thumbs-init",{slidesPerView:1,slidesPerGroup:"auto",allowPageScroll:"vertical",mousewheel:!1,watchSlidesProgress:!0});new Swiper(".advan__slider-init",{grabCursor:!1,mousewheel:!1,speed:600,effect:"creative",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},thumbs:{swiper:r}}),new Swiper(".create_f__slider-init",{slidesPerView:"auto",spaceBetween:20,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},grid:!1,breakpoints:{769:{spaceBetween:20,slidesPerView:3,grid:{rows:2}}}}),new Swiper(".objects__slider-init",{slidesPerView:1,spaceBetween:10,speed:600,grabCursor:!0,mousewheel:{forceToAxis:!0},navigation:{nextEl:".objects__slider-next",prevEl:".objects__slider-prev"},breakpoints:{381:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:3,spaceBetween:20},1201:{slidesPerView:4,spaceBetween:20}}}),new Swiper(".objects-s__slider",{slidesPerView:1,grabCursor:!0,speed:600,loop:!0,mousewheel:{forceToAxis:!0},effect:"fade",fadeEffect:{crossFade:!1},autoplay:{delay:5e3,disableOnInteraction:!1},navigation:{nextEl:".case__slider-next",prevEl:".case__slider-prev"},pagination:{el:".swiper-pagination",clickable:!0}});const n=new Lenis({anchors:{offset:-100,onComplete:()=>{console.log("scrolled to anchor")}}});if(n.on("scroll",ScrollTrigger.update),gsap.ticker.add((e=>{n.raf(1e3*e)})),gsap.ticker.lagSmoothing(0),function(){if(document.querySelector(".modal__btn")){var e=document.querySelectorAll(".modal__close-btn"),t=document.querySelectorAll(".modal__btn");Array.from(t,(t=>{t.addEventListener("click",(t=>{let o=document.getElementsByClassName("open");o.length>0&&o[0]!==this&&o[0].classList.remove("open");let r=t.target.getAttribute("data-id");if(console.log(r),!r)return;document.getElementById(r).classList.add("open"),n.stop();let s=t.target.getAttribute("data-title");s&&(document.getElementById("modal-title").innerHTML=s);let i=t.target.getAttribute("data-text");i&&(document.getElementById("modal-text").innerHTML=i),Array.from(e,(e=>{e.addEventListener("click",(e=>{document.getElementById(r).classList.remove("open"),n.start()})),window.addEventListener("keydown",(e=>{"Escape"===e.key&&(document.getElementById(r).classList.remove("open"),n.start())})),document.querySelector(".modal.open .modal__box").addEventListener("click",(e=>{e._isClickWithInModal=!0})),document.getElementById(r).addEventListener("click",(e=>{e._isClickWithInModal||(e.currentTarget.classList.remove("open"),n.start())}))}))}))}))}}(),function(){const e=document.querySelector(".burger"),t=document.querySelector(".burger__text"),o=document.getElementById("mobile-menu"),r=document.querySelectorAll(".menu__list-link"),n=document.querySelector(".head"),s=()=>{e.classList.remove("burger--opened"),o.classList.remove("mobile-menu--opened"),document.body.classList.remove("no-scroll"),document.body.classList.remove("no-scroll")};e.addEventListener("click",(()=>{const r=e.classList.toggle("burger--opened");o.classList.toggle("mobile-menu--opened",r),document.body.classList.toggle("no-scroll"),n.classList.toggle("head--active"),e.classList[1]?t.innerHTML="Закрыть":t.innerHTML="Меню"})),r.forEach((e=>e.addEventListener("click",s)))}(),function(){const e=document.querySelector(".head"),t=()=>window.pageYOffset||document.documentElement.scrollTop;window.addEventListener("scroll",(()=>{t()>300?e.classList.add("out"):e.classList.remove("out"),t()>700?e.classList.add("change"):e.classList.remove("change")}))}(),document.querySelectorAll(".dropdown--js").forEach((e=>{function t(){let t=e.querySelector(".dropdown__value"),o=document.querySelector(".dropdown__radio:checked").parentElement.querySelector(".dropdown__label").textContent;e.querySelector(".dropdown__selected--js").querySelector("span").textContent=o,t.dataset.value=o}function o(e,t,o){let r=o;void 0===r&&(r=!e.classList.contains(t)),r?e.classList.add(t):e.classList.remove(t)}let r=e.querySelectorAll(".dropdown__radio"),n=e;for(let e=0;e<r.length;++e){let s=r[e];s.addEventListener("change",(function(){t()})),s.addEventListener("click",(function(){o(n,"is-active",!1)}))}e.querySelector(".dropdown__selected--js").addEventListener("click",(function(){o(n,"is-active")}))})),document.querySelector(".other-mix"))mixitup(".other-mix",{animation:{duration:600,effects:"stagger(3ms) fade scale(0.4)",easing:"linear"},load:{filter:".mix-1"}});if(document.querySelector(".vacancy-mix"))mixitup(".vacancy-mix",{animation:{duration:600,effects:"stagger(3ms) fade scale(0.4)",easing:"linear"},load:{filter:"all"}});if("1"!==("; "+document.cookie).split("; COOKIE_ACCEPT=").pop().split(";")[0]){const e=document.getElementById("warning-plate");e&&(e.style.display="block")}const s=document.getElementById("presentation"),i=document.querySelectorAll(".stage__item");if(window.addEventListener("resize",(function(){this.window.innerWidth>=769?(s.setAttribute("href","./documents/Империя презентация.pdf"),s.setAttribute("download","./documents/Империя презентация.pdf"),i.forEach((e=>{e.classList.remove("accordion")}))):(s.setAttribute("href","./documents/Империя.pdf"),s.setAttribute("download","./documents/Империя.pdf"),i.forEach((e=>{e.classList.add("accordion")})))}),!0),(this.window.innerWidth<=768||~["Android","iPhone","iPod","iPad","BlackBerry"].indexOf(navigator.platform))&&(s.setAttribute("href","./documents/Империя.pdf"),s.setAttribute("download","./documents/Империя.pdf"),i.forEach((e=>{e.classList.add("accordion")}))),document.querySelector(".geo__item")){var a=document.querySelectorAll(".geo__item"),l=document.querySelector(".geo__block"),c=document.getElementsByClassName("geo__active");Array.from(a).forEach((function(e,t,o){e.addEventListener("click",(function(e){c.length>0&&c[0]!==this&&c[0].classList.remove("geo__active"),this.classList.toggle("geo__active"),l.classList.add("show"),window.innerWidth<601&&n.stop(),document.querySelector(".geo__block-close").addEventListener("click",(function(){l.classList.remove("show"),window.innerWidth<601&&n.start(),c.length>0&&c[0]!==this&&c[0].classList.remove("geo__active")})),e.stopPropagation(),document.getElementById("geo-img").setAttribute("src",this.dataset.img),document.getElementById("geo-name").innerText=this.dataset.name,document.getElementById("geo-address").innerText=this.dataset.address,document.getElementById("geo-year").innerText=this.dataset.year,document.getElementById("geo-square").innerText=this.dataset.square}))}))}$(document).on("mouseup",(function(e){let t=$(".geo__block.show");t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("show"),window.innerWidth<601&&n.start())})),document.querySelector(".transfer-pos-1")&&(new TransferElements({sourceElement:document.querySelector(".transfer-elem-1"),breakpoints:{600:{targetElement:document.querySelector(".transfer-pos-1")}}}),new TransferElements({sourceElement:document.querySelector(".transfer-elem-2"),breakpoints:{600:{targetElement:document.querySelector(".transfer-pos-1")}}})),document.querySelector(".case__title")&&new TransferElements({sourceElement:document.querySelector(".case__title"),breakpoints:{600:{targetElement:document.querySelector(".case__item")}}}),document.querySelector(".objects .case")&&new TransferElements({sourceElement:document.querySelector(".case__body-video"),breakpoints:{600:{targetElement:document.querySelector(".case__thumbs-item")}}});const d=document.querySelector("#copyButton");var u,p;d&&d.addEventListener("click",(function(){navigator.clipboard.writeText(document.querySelector("#copyContent").innerText).then((function(){console.log("Text copied to clipboard")})).catch((function(e){console.error("Error:",e)}))})),u=document.querySelectorAll(".accordion"),p=document.getElementsByClassName("active"),Array.from(u).forEach((function(e,t,o){e.addEventListener("click",(function(e){this.parentNode.dataset.skip||p.length>0&&p[0]!==this&&p[0].classList.remove("active"),this.classList.toggle("active")}))}));document.querySelectorAll('[data-splitting="chars"]').forEach((e=>{new SplitType(e,{types:"words, chars"})}));document.querySelectorAll('[data-splitting="words"]').forEach((e=>{new SplitType(e,{types:"words, words"})}));document.querySelectorAll('[data-animation="fadeLeftToRightAnim"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"15%",duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t)}));document.querySelectorAll('[data-animation="fadeLongToWidth"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"120%",x:-120,duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t)}));document.querySelectorAll('[data-animation="fadeLongToShort"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:1,width:"100%",duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t)}));document.querySelectorAll('[data-animation="parallax"]').forEach((e=>{gsap.fromTo(e,{y:"0%"},{y:"15%",scrollTrigger:{trigger:e,start:"top 60%",end:"bottom top",scrub:!0}})}));document.querySelectorAll('[data-animation="fadeIn"]').forEach((e=>{const t=e.querySelectorAll("div.char"),o=gsap.timeline({paused:!0});o.from(t,{opacity:0,duration:.3,ease:"power1.out",stagger:{amount:.8}}),m(e,o)}));document.querySelectorAll('[data-animation="reveal"]').forEach((e=>{const t=e.querySelectorAll("div.word"),o=gsap.timeline({paused:!0});o.from(t,{opacity:0,y:"10",duration:.4,ease:"power1.out",stagger:{amount:.6}}),m(e,o)}));document.querySelectorAll('[data-animation="fadeUp"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,y:"80",duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t)}));document.querySelectorAll('[data-animation="fadeDown"]').forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,y:"40",duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t,"top 60%")}));document.querySelectorAll('[data-animation="fadeLeftToRight"]').forEach((e=>{const t=e.querySelectorAll(".item--animation"),o=gsap.timeline({paused:!0}),r=t.length<5?.8:1.2;o.from(t,{opacity:0,y:10,duration:.3,ease:"power1.in",stagger:{amount:r}}),m(e,o)}));document.querySelectorAll('[data-animation="fadeBottomToTop"]').forEach((e=>{const t=e.querySelectorAll(".item--animation"),o=gsap.timeline({paused:!0}),r=t.length<5?.8:1.2;o.from(t,{opacity:0,y:30,duration:.3,ease:"power1.in",stagger:{amount:r}}),m(e,o)}));document.querySelectorAll('[data-animation="cropDown"]').forEach((e=>{const t=e.querySelector("img"),o=gsap.timeline({paused:!0});o.from(t,{height:0,duration:1.2,ease:"expoScale"}),m(e,o,"top 60%")}));document.querySelectorAll(".advan__thumbs-item").forEach((e=>{const t=gsap.timeline({paused:!0});t.from(e,{opacity:0,x:-50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(e,t)}));document.querySelectorAll(".service__block.red").forEach((e=>{const t=e.querySelector(".service__item"),o=gsap.timeline({paused:!0});o.from(t,{opacity:1,x:50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(t,o)}));function m(e,t,o="top 85%"){ScrollTrigger.create({trigger:e,start:"top bottom",onLeaveBack:()=>{t.progress(1),t.pause()}}),ScrollTrigger.create({trigger:e,start:o,onEnter:()=>t.play()})}document.querySelectorAll(".service__block.yellow").forEach((e=>{const t=e.querySelector(".service__item"),o=gsap.timeline({paused:!0});o.from(t,{opacity:1,x:-50,duration:.8,ease:"power1.out",stagger:{amount:.8}}),m(t,o)}));const g=document.querySelector(".timeline-wrapper"),w=document.querySelectorAll(".timeline-item"),f=g.scrollWidth-window.innerWidth;gsap.timeline({scrollTrigger:{trigger:".path",start:"top 120px",endTrigger:".stage",end:`+=${f}`,scrub:1,pin:!0,anticipatePin:1,markers:!0,onUpdate:e=>{const t=e.progress,o=Math.floor(t*(w.length-1));w.forEach((e=>e.classList.remove("swiper-slide-active"))),w[o]&&w[o].classList.add("swiper-slide-active")}}}).to(g,{x:-f,ease:"none"}),document.querySelector(".button-next")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(g,"x")),t=Math.min(e+.8*window.innerWidth,f);gsap.to(g,{x:-t,duration:.5})})),document.querySelector(".button-prev")?.addEventListener("click",(()=>{const e=Math.abs(gsap.getProperty(g,"x")),t=Math.max(e-.8*window.innerWidth,0);gsap.to(g,{x:-t,duration:.5})})),document.querySelector(".fancybox")&&Fancybox.bind('[data-fancybox="gallery"]',{})}))})();